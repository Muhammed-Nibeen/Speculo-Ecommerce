<!DOCTYPE html>
<html lang="en">

<head>
  <title>Admin Dashboard</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
    }
    .sidebar {
      height: 100%;
      width: 250px;
      position: fixed;
      top: 0;
      left: 0;
      background-color: #343a40;
      padding-top: 20px;
    }

    .sidebar a {
    padding: 10px 20px;
    text-decoration: none;
    font-size: 16px; /* Adjust the font   */
    color: white;
    display: block;
    transition: 0.3s;
}


    .sidebar a:hover {
      background-color: #495057;
    }

    .content {
      margin-left: 260px;
      padding: 20px;
    }

    .content h2 {
      margin-bottom: 20px;
    }

    .content table {
      width: 100%;
      border-collapse: collapse;
    }

    .content table th,
    .content table td {
      border: 1px solid #dee2e6;
      padding: 8px;
    }

    .content table th {
      background-color: #343a40;
      color: white;
    }
  </style>
</head>

<body>
  <div class="sidebar">
    <a href="/dashUsers">Users</a>
    <a href="/adminOrder">Orders</a>
    <a href="/addproduct">Add Product</a>
    <a href="/salesReport">Sales Chart</a>
    <a href="/addcoupon">Add Coupon</a>
    <a href="/viewCoupon">View Coupon</a>
    <a href="/addOffer">Add Offer</a>
    <a href="/viewOffer">View Offer</a>
    <a href="/viewProduct">View Product</a>
    <a href="/adCategory">Add Category</a>
    <a href="/viewcategory">View Category</a>
    <a href="/adminLogout"><i class="fas fa-sign-out-alt" style="font-size:20px;color:red"></i> Logout</a>
  </div>
  <div class="content">
  <h>Users</h>
  <table class="table table-striped">
    <thead class="bg-secondary text-white">
      <tr>
        <th>Index</th>
        <th>First name</th>
        <th>Last name</th>
        <th>Email</th>
        <th>isBlocked</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="userTableBody">
      <% if(datas.length>0) { %>
        <% datas.forEach(function(val,index) {%>
          <tr>
            <td><%= index +1%></td>
            <td><%= val.firstname %></td>
            <td><%= val.lastname %></td>
            <td><%= val.email %></td>
            <td>
              <% if(val.isBlocked) {%>
                <span class="text-danger">Blocked</span>
              <% }else{ %>
                <span class="text-success">Not Blocked</span>  
              <% }%>
            </td>
            <td>
              <% if (val.isBlocked) {%>
                <a href="/blockuser/<%= val._id%>" class="btn btn-success">Unblock</a>
              <% }else{ %>
                <a href="/blockuser/<%= val._id%>" class="btn btn-danger">Block</a> 
              <% } %> 
            </td>
          </tr>
          <% }) %>
          <% } %>
    </tbody>
  </table>
</div>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
</body>

</html>